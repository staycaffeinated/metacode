
// --------------------------------------------------------------
// dependencies
// --------------------------------------------------------------

dependencies {
    implementation project (path: ':meta-annotations')

    annotationProcessor libs.lombok
    compileOnly libs.lombok

    implementation libs.commonsBeanUtils
    implementation libs.commonsConfig
    implementation libs.commonsIo
    implementation libs.commonsLang3
    implementation libs.jmustache
    implementation libs.picocli
    implementation libs.freemarker
    implementation libs.snakeYaml
    implementation libs.guice
    implementation libs.guava
    
    testImplementation(platform(libs.junitBillOfMaterial))
    testImplementation(libs.junitJupiter)
    testImplementation(libs.junitSystemRules)
    testImplementation(libs.truth)
    testImplementation(libs.mockito)
    testImplementation(libs.commonsBeanUtils)
}

// Gradle 7.4 has built-in understanding of integrationTest folder.
// For the sake of IntelliJ, we do this, since IntelliJ does not
// know what the 'integrationTest' folder is out-of-the-box.
sourceSets {
    integrationTest {
        java.srcDir file("src/integrationTest/java")
        resources.srcDir file("src/integrationTest/resources")
        runtimeClasspath += sourceSets.main.runtimeClasspath + sourceSets.test.runtimeClasspath
        compileClasspath += sourceSets.main.compileClasspath + sourceSets.test.compileClasspath
    }
}

